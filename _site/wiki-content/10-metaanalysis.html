<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Meta-Analysis – CAMARADES Systematic Review Wiki</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-9eb995e8644016eb670a0cb3bf478a26.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Meta-Analysis – CAMARADES Systematic Review Wiki">
<meta property="og:description" content="A wiki website to support researchers in carrying out preclinical systematic review and meta-analysis, developed by CAMARADES Berlin.">
<meta property="og:image" content="figs/fixedeffects.png">
<meta property="og:site_name" content="CAMARADES Systematic Review Wiki">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logos/CAMARADESberlinLogo_small.png" alt="logo of camarades berlin" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">CAMARADES Systematic Review Wiki</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-wiki" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Wiki</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-wiki">    
        <li>
    <a class="dropdown-item" href="../wiki-content/01-intro.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/02-srs-3rs.html">
 <span class="dropdown-text">Systematic Reviews &amp; 3Rs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/03-b4ustart.html">
 <span class="dropdown-text">Before You Start</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/04-researchquestion.html">
 <span class="dropdown-text">Research Question</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/05-protocol.html">
 <span class="dropdown-text">Protocol</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/06-systematicsearch.html">
 <span class="dropdown-text">Systematic Search</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/07-studyselection.html">
 <span class="dropdown-text">Study Selection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/08-dataextraction.html">
 <span class="dropdown-text">Data Extraction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/09-qualityassessment.html">
 <span class="dropdown-text">Quality Assessment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/10-metaanalysis.html">
 <span class="dropdown-text">Meta-Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/11-tools.html">
 <span class="dropdown-text">Tools for Systematic Review</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/12-publication.html">
 <span class="dropdown-text">Interpretation &amp; Publication</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../wiki-content/13-resources.html">
 <span class="dropdown-text">Resources &amp; Links</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../14-workshops.html"> 
<span class="menu-text">Workshops</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/camaradesberlin/camarades-wiki/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../wiki-content/10-metaanalysis.html">Meta-Analysis</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/02-srs-3rs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Systematic Reviews &amp; 3Rs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/03-b4ustart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Before You Start</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/04-researchquestion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research Question</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/05-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/06-systematicsearch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Systematic Search</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/07-studyselection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Study Selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/08-dataextraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Extraction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/09-qualityassessment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality Assessment</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/10-metaanalysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Meta-Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/11-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools for Systematic Review</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/12-publication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interpretation &amp; Publication</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../wiki-content/13-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources &amp; Links</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-meta-analysis" id="toc-what-is-meta-analysis" class="nav-link active" data-scroll-target="#what-is-meta-analysis">What is Meta-Analysis?</a></li>
  <li><a href="#why-perform-meta-analysis" id="toc-why-perform-meta-analysis" class="nav-link" data-scroll-target="#why-perform-meta-analysis">Why perform Meta-Analysis?</a></li>
  <li><a href="#meta-analysis-tools" id="toc-meta-analysis-tools" class="nav-link" data-scroll-target="#meta-analysis-tools">Meta-Analysis Tools</a></li>
  <li><a href="#step-1.-calculate-effect-size" id="toc-step-1.-calculate-effect-size" class="nav-link" data-scroll-target="#step-1.-calculate-effect-size">Step 1. Calculate effect size</a>
  <ul class="collapse">
  <li><a href="#continuous" id="toc-continuous" class="nav-link" data-scroll-target="#continuous">Continuous</a></li>
  <li><a href="#dichotomous-outcomes" id="toc-dichotomous-outcomes" class="nav-link" data-scroll-target="#dichotomous-outcomes">Dichotomous Outcomes</a></li>
  <li><a href="#median" id="toc-median" class="nav-link" data-scroll-target="#median">Median</a></li>
  <li><a href="#true-number-of-controls" id="toc-true-number-of-controls" class="nav-link" data-scroll-target="#true-number-of-controls">True number of Controls</a></li>
  </ul></li>
  <li><a href="#step-2.-combine-effect-sizes" id="toc-step-2.-combine-effect-sizes" class="nav-link" data-scroll-target="#step-2.-combine-effect-sizes">Step 2. Combine effect sizes</a>
  <ul class="collapse">
  <li><a href="#fixed-effects-model" id="toc-fixed-effects-model" class="nav-link" data-scroll-target="#fixed-effects-model">Fixed Effects Model</a></li>
  <li><a href="#random-effects-model" id="toc-random-effects-model" class="nav-link" data-scroll-target="#random-effects-model">Random Effects Model</a></li>
  </ul></li>
  <li><a href="#step-3.-investigate-heterogeneity" id="toc-step-3.-investigate-heterogeneity" class="nav-link" data-scroll-target="#step-3.-investigate-heterogeneity">Step 3. Investigate heterogeneity</a></li>
  <li><a href="#step-4.-reporting-biases" id="toc-step-4.-reporting-biases" class="nav-link" data-scroll-target="#step-4.-reporting-biases">Step 4. Reporting biases</a></li>
  <li><a href="#step-5.-interpret-the-results" id="toc-step-5.-interpret-the-results" class="nav-link" data-scroll-target="#step-5.-interpret-the-results">Step 5. Interpret the results</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Meta-Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-meta-analysis" class="level2">
<h2 class="anchored" data-anchor-id="what-is-meta-analysis">What is Meta-Analysis?</h2>
<p>A meta-analysis is the statistical combination of results from two or more separate studies.</p>
</section>
<section id="why-perform-meta-analysis" class="level2">
<h2 class="anchored" data-anchor-id="why-perform-meta-analysis">Why perform Meta-Analysis?</h2>
<p>Meta-analyses are performed for a variety of reasons:</p>
<ul>
<li>To provide a test with more power than separate studies</li>
<li>To provide an improvement in statistical precision</li>
<li>To summarise numerous and inconsistent findings</li>
<li>To investigate consistency of effect across different samples</li>
</ul>
<p><a href="https://training.cochrane.org/handbook/current" target="_blank">(Reference: Cochrane Handbook)</a></p>
<p>To understand the basics and for exact equations, keep reading.</p>
<p>Equations shown below are from the following references, where more information can be found:</p>
<ul>
<li><a href="https://doi.org/10.1016/j.jneumeth.2013.09.010" target="_blank">Vesterinen et al, 2014. “Meta-analysis of data from animal studies: a practical guide.” Journal of neuroscience methods</a></li>
<li><a href="https://doi.org/10.1002/9780470743386" target="_blank">Borenstein et al., 2009. Introduction to Meta-Analysis</a></li>
</ul>
<p><br></p>
</section>
<section id="meta-analysis-tools" class="level2">
<h2 class="anchored" data-anchor-id="meta-analysis-tools">Meta-Analysis Tools</h2>
<p>Luckily, statistical software takes care on most of the ‘heavy lifting’ when it comes to calculating effect sizes, pooling them, and making forest plots. There are different tools available to perform meta-analysis.</p>
<p>R is the recommended software as it is free and open source and supports transparent documentation of meta-analysis steps. To read more about R and download it for free, <a href="https://www.r-project.org/" target="_blank">see the R Project website here.</a> If this is your first time conducting a meta-analysis using R, you can practice with our meta-analysis tutorial, <a href="#meta-analysis-tutorial" target="_blank">read more in section 15.2.</a></p>
<p>Other tools include:</p>
<ul>
<li>Stata</li>
<li>Comprehensive Meta-Analysis</li>
<li>RevMan</li>
</ul>
</section>
<section id="step-1.-calculate-effect-size" class="level2">
<h2 class="anchored" data-anchor-id="step-1.-calculate-effect-size">Step 1. Calculate effect size</h2>
<p>The first step is to calculate the effect size for each outcome within each study. Your outcomes may be:</p>
<ul>
<li>Continuous</li>
<li>Dichotomous</li>
</ul>
<section id="continuous" class="level3">
<h3 class="anchored" data-anchor-id="continuous">Continuous</h3>
<p>For <strong>continuous outcomes</strong>, commonly used effect size measures include:</p>
<ul>
<li>Mean Difference</li>
<li>Normalised Mean Difference</li>
<li>Standardised Mean Difference</li>
</ul>
<section id="mean-difference" class="level4">
<h4 class="anchored" data-anchor-id="mean-difference">Mean Difference</h4>
<p><strong>Mean Difference:</strong> Raw mean difference can be used when the outcomes are reported on a meaningful scale and all studies in the analysis use the same scale. The meta-analysis is performed directly on the raw difference in means.</p>
<p>Mean Difference Effect Size: <span class="math display">\[ ES_i = \bar{x}_c - \bar{x}_\text{rx}\]</span></p>
<p>Standard Error: <span class="math display">\[ SE_i = \sqrt{\frac {N}{n_{\text{rx}} \times n'_c} \times S_{\text{pooled}}^2} \]</span></p>
<p>where <span class="math inline">\(S_{\text{pooled}}\)</span> is: <span class="math display">\[S_{\text{pooled}} = \sqrt \frac {(n'_c - 1)SD_c^2 + (n_{\text{rx}} - 1)SD_{\text{rx}}^2}{N -2} \]</span></p>
</section>
<section id="normalised-mean-difference" class="level4">
<h4 class="anchored" data-anchor-id="normalised-mean-difference">Normalised Mean Difference</h4>
<p><strong>Normalised Mean Difference:</strong> Normalised mean difference (NMD) can be used when outcomes are on a ratio scale, where the score on a ‘control’ or ‘sham’ animal is known. The most common method to calculate NMD is as a proportion of the mean.</p>
<p>The effect size calculation for normalised mean difference:</p>
<p><span class="math display">\[ES_i= 100 \times  \frac {(\bar{x}_c - \bar{x}_\text{sham}) - (\bar{x}_\text{rx} - \bar{x}_\text{sham})}{\bar{x}_c - \bar{x}_\text{sham}}\]</span> where <span class="math inline">\(\bar{x}_\text{sham}\)</span> is the mean score for the unlesioned/normal/untreated animal.</p>
<p>The standard deviation calculations are as follows: <span class="math display">\[SD_\text{c*} = 100 \times \frac {SD_c}{\bar{x}_c - \bar{x}_\text{sham}}\]</span> and <span class="math display">\[SD_\text{rx*} = 100 \times \frac {SD_\text{rx}}{\bar{x}_\text{c} - \bar{x}_\text{sham}}\]</span></p>
<p><span class="math display">\[ES_i= 100 \times  \frac {(\bar{x_c} - \bar{x_\text{sham}}) - (\bar{x_\text{rx}} - \bar{x_\text{sham}})}{\bar{x_c} - \bar{x_\text{sham}}} \]</span> where <span class="math display">\[\bar{x_\text{sham}} \]</span> is the mean score for the unlesioned/normal/untreated animal.</p>
<p>The standard deviation calculations are as follows: <span class="math display">\[SD_c* = 100 \times \frac {SD_c}{\bar{x_c} - \bar{x_\text{sham}}}\]</span> and <span class="math display">\[SD_\text{rx*} = 100 \times \frac {SD_\text{rx}}{\bar{x_\text{rx}} - \bar{x_\text{sham}}}\]</span></p>
<p>Standard error of the effect size is: <span class="math display">\[SE_i = \sqrt{ \frac{SD_\text{c*}^2}{n'_c} + \frac {SD_{rx*}^2}{n_{rx*}} }\]</span></p>
</section>
<section id="standardised-mean-difference" class="level4">
<h4 class="anchored" data-anchor-id="standardised-mean-difference">Standardised Mean Difference</h4>
<p><strong>Standardised Mean Difference:</strong> (SMD), Cohen’s d and Hedge’s g. SMD is used when the scale of measurement differs across studies and it is not meaningful to combine raw mean differences. The mean difference in each study is divided by the study’s standard division to create an index comparable across studies.</p>
<p>Hedge’s G SMD Effect Size: <span class="math display">\[ES_i = \frac {\bar{x}_c - \bar{x}_\text{rx}}{S_{\text{pooled}}} \times (1 - \frac{3}{4N - 9})  \]</span> And standard error of the effect size is: <span class="math display">\[ SE_i = \sqrt{ \frac{N}{n_{\text{rx}} \times n'_c} + \frac{ES_i^2}{2(N - 3.49)} }\]</span></p>
</section>
</section>
<section id="dichotomous-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="dichotomous-outcomes">Dichotomous Outcomes</h3>
<p>For <strong>dichotomous outcomes</strong> the most commonly used effect size measures for animal studies is odds ratio.</p>
<section id="odds-ratio" class="level4">
<h4 class="anchored" data-anchor-id="odds-ratio">Odds Ratio</h4>
<p><strong>Odds Ratio</strong>: For event data. The ratio of number of events to the number of non-events. It represents the odds that an outcome will occur given a particular exposure, compared to the odds of the outcome occurring without that exposure.</p>
<p>Odds Ratio Effect Size <span class="math display">\[ OR_i = \frac {a_i \times d_i}{b_i \times c_i}  \]</span></p>
<p>with the standard error of the odds ratio effect size: <span class="math display">\[ SE(ln(OR_i)) = \sqrt{ (1/a_i)+(1/b_i)+(1/c_i)+(1/d_i) }   \]</span></p>
<p>In the meta-analysis of events, we might encounter a scenario where not a single event occured, in one or more groups. This is particularly likely with the small samples in preclinical research. In the case of zero events, the OR is mathematically ill defined. Two remedies exist: 1) adding 0.5 to all zero frequencies to study-specific 2x2 tables <a href="https://onlinelibrary.wiley.com/doi/full/10.1002/jrsm.1460" target="_blank">(Weber et al., 2020)</a>, or the preferred method, 2) to use the arcsine transformation of the frequencies.</p>
<p><span class="math display">\[ arcsin \sqrt (a/a+b) - arcsin \sqrt(c/c+d) \]</span></p>
<p>While the arcsine difference is prefered from a mathematical point of view <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/sim.3511" target="_blank">(Rücker et al.&nbsp;2008)</a>, the transformation leads to an abstract effect size that cannot be as readily interpreted as an OR. This transformation is thus recommended for determining statistical significance.</p>
<p>You might come across <strong>Risk Ratio</strong> (or Relative Risk), the risk of an event in one group (e.g., exposed group) versus the risk of the event in the other group (e.g., non-exposed group), or <strong>Hazard Ratio</strong>, however these data are rarely seen in primary animal experiments. For more information of Risk Ratio in clinical systematic reviews, see the <a href="https://handbook-5-1.cochrane.org/chapter_9/box_9_2_a_calculation_of_risk_ratio_rr_odds_ratio_or_and.htm" target="_blank">Cochrane Handbook.</a></p>
</section>
</section>
<section id="median" class="level3">
<h3 class="anchored" data-anchor-id="median">Median</h3>
<p><strong>Median Survival</strong> or time to event data. The effect is calculated by dividing the median survival in the treatment group b the median in the control group, and the logarithm of that is taken. Read more about <a href="https://systematicreviewsjournal.biomedcentral.com/articles/10.1186/s13643-021-01824-0" target="_blank">median survival here.</a></p>
<p><span class="math display">\[ ES_i = log (\frac{Median_{\rm rx}}{Median_c} ) \]</span></p>
</section>
<section id="true-number-of-controls" class="level3">
<h3 class="anchored" data-anchor-id="true-number-of-controls">True number of Controls</h3>
<p>A single experiment can contain a number of comparisons. If the control cohort is serving more than one treatment group, we correct the number of animals reported in the control cohort by the number of treatment groups.</p>
<ol type="1">
<li><p><strong>True number of controls</strong> <span class="math display">\[n'_c = \frac{n_c}{{\rm num. treatment groups}}\]</span></p></li>
<li><p><strong>True N for each comparison</strong> <span class="math display">\[N = n_{\text{rx}} + n'_c\]</span></p></li>
<li><p><strong>Converting SEM to SD</strong> <span class="math display">\[ SD_c = SEM_c \times \sqrt n_c \]</span> and <span class="math display">\[SD_{\text{rx}} = SEM_{\text{rx}} \times \sqrt n_{\text{rx}} \]</span></p></li>
</ol>
</section>
</section>
<section id="step-2.-combine-effect-sizes" class="level2">
<h2 class="anchored" data-anchor-id="step-2.-combine-effect-sizes">Step 2. Combine effect sizes</h2>
<p>The next step is to combine the effect sizes for each comparison together in a meta-analysis model.</p>
<p>Before you pool your effect sizes, you may conisder:</p>
<p><strong>Weighting Effect Sizes:</strong> In meta-analysis it is usual to attribute different weights to each study in order to reflect relative contributions of individual studies to the total effect size. In animal study meta-analysis we weight the studies according to precision. More precise studies are given greater weight in the calculation of the effect size. We recommend using the inverse variance method, where individual effect sizes are multiplied by the inverse of their squared standard error:</p>
<p><span class="math display">\[W_i = \frac{1}{SE^2_i} \]</span> Where <span class="math display">\[{SE^2_i}\]</span> is the square standard error of the effect size calculated.</p>
<p>This gives the weighted effect size of: <span class="math display">\[W_iES_i = ES_i \times \frac{1}{SE^2_i} \]</span></p>
<p><strong>Nesting Effects:</strong> Where several outcomes are reported and it is appropriate to combine them into a single statistic, we can “nest” outcomes. To do this we take each outcome, weight it by multiplication by the inverse of the variance for that outcome, sum these weighted values for all outcomes and divide by the sum of the weights.</p>
<p><span class="math display">\[ES_{\theta\text{i}} = \frac{\sum_{i=1}^{k} W_iES_i}{\sum_{i=1}^{k} W_i} \]</span> Where <span class="math display">\[W_i\]</span> is the measure of weight (e.g.&nbsp;inverse variance). <span class="math display">\[W_iES_i \]</span> is the weighted effect size, and <em>k</em> denotes the total number of studies included in the meta-analysis.</p>
<p>The standard error is calculated: <span class="math display">\[SE_{\theta\text{i}} = \sqrt \frac{N_{comparisons}}{\sum_{i=1}^{k} W_i} \]</span></p>
<p><strong>Pooling Effect Sizes</strong></p>
<p>There are two commonly used models for pooling effect sizes:</p>
<ul>
<li>Fixed Effect Model</li>
<li>Random Effects Model</li>
</ul>
<p>The selection of which model to use should be stated in your protocol with <em>a priori</em>. The decision is based on the nature of the studies likely to be included in your review. Random effects model is most commonly used in preclinical studies as we usually synthesise data from studies performed in different laboratories and we expect heterogeneity. We often synthesise data from experiments where the species, age, or sex of the animals are different, the intervention may be given at varying doses or at different times in relation to the outcome. We assume that these study design variables have an impact on the effects we see in studies.</p>
<p>Rarely, when doing a systematic review of data from one specific laboratory, if all the studies in your meta-analysis were conducted using the same model induction, paradigms, and interventions, you may consider a fixed effect model (Borenstein et al., 2009).</p>
<section id="fixed-effects-model" class="level3">
<h3 class="anchored" data-anchor-id="fixed-effects-model">Fixed Effects Model</h3>
<p>Under the fixed effect model we assume that there is one true effect size which is shared by all the included studies. It follows that the combined effect (global estimate) is our estimate of this common effect size.</p>
<p><br></p>
<center>
<img src="figs/fixedeffects.png" id="id" class="class img-fluid" style="width:75.0%">
</center>
<p><br></p>
</section>
<section id="random-effects-model" class="level3">
<h3 class="anchored" data-anchor-id="random-effects-model">Random Effects Model</h3>
<ul>
<li>Under the random effects model we allow that the true effect could vary from study to study. E.g. the effect size might be a little higher if the patients are older; in rats vs.&nbsp;mice; if the study used a slightly more intensive or longer variant of the intervention etc.</li>
<li>The studies included in the meta-analysis are assumed to be a random sample of the relevant distribution of effects, and the combined effect estimates the mean effect in this distribution.</li>
</ul>
<p><br></p>
<center>
<img src="figs/randomeffects.png" class="class img-fluid" style="width:75.0%">
</center>
<p><br></p>
</section>
</section>
<section id="step-3.-investigate-heterogeneity" class="level2">
<h2 class="anchored" data-anchor-id="step-3.-investigate-heterogeneity">Step 3. Investigate heterogeneity</h2>
<p>The third step is to investigate potential sources of heterogeneity (pre-specified in your protocol). Heterogeneity is the variability between groups of studies caused by differences in:</p>
<ul>
<li>study samples (e.g.&nbsp;species, sex)</li>
<li>interventions of outcomes (e.g.&nbsp;dose, outcome measure type)</li>
<li>methodology (e.g.&nbsp;design, quality)</li>
</ul>
<p>Chi-squared <span class="math inline">\(\chi^2\)</span> (or Chi<sup>2</sup>) assess whether observed differences in results are compatible with chance alone. I<sup>2</sup> describes the percentage of variability in effect estimates that is due to heterogeneity rather than sampling error or chance along.</p>
<p>You can investigate heterogeneity using:</p>
<ul>
<li>Sub-group analysis. Read more about <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/subgroup.html" target="_blank">sub-group analysis here.</a></li>
<li>Meta-regression model. Read more about <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/metareg.html" target="_blank">meta-regression here.</a></li>
</ul>
</section>
<section id="step-4.-reporting-biases" class="level2">
<h2 class="anchored" data-anchor-id="step-4.-reporting-biases">Step 4. Reporting biases</h2>
<p><strong>Publication Bias</strong> occurs when the results of published and unpublished studies differ systematically. Unfortunately, neutral and negative studies take longer to be published, remain unpublished, are less likely to be identified in systematic review, and this can lead to an overstatement of efficacy in meta-analysis.</p>
<p>There are also other biases that may effect your systematic review including, <strong>selective outcome reporting</strong> and <strong>selective analysis reporting</strong>.</p>
<p>We can test for potential publication bias in our data plotting our data on a <strong>funnel plot</strong>. The outer dashed lines indicate the triangular region within which 95% of studies are expected to lie, in the absence of both biases and heterogeneity. The solid vertical line refers to the line of no effect. Image from <a href="https://www.bmj.com/content/343/bmj.d4002" target="_blank">Sterne et al., 2011</a></p>
<center>
<img src="figs/funnelplot.jpg" class="class img-fluid" style="width:50.0%">
</center>
<p>If you do observe asymmetry in your funnel plot, there may be a number of sources:</p>
<ul>
<li><p><strong>Reporting Biases</strong></p>
<ul>
<li>Publication bias</li>
<li>Selective outcome reporting</li>
<li>Selective analysis reporting</li>
</ul></li>
<li><p><strong>Poor methodological quality (leading to inflated effects in smaller studies)</strong></p>
<ul>
<li>Poor methodological design</li>
<li>Inadequate analysis</li>
<li>Fraud</li>
</ul></li>
<li><p><strong>True heterogeneity:</strong> Effect size differs according to study size due to e.g.&nbsp;differences in the intensity of interventions, or in underlying risk between studies with different sizes.</p></li>
<li><p><strong>Artefacts:</strong> Sampling variation can lead to an association between the intervention effect and its standard error.</p></li>
<li><p><strong>Chance:</strong> Asymmetry may occur by change - motivating the use of statistical asymmetry tests.</p></li>
</ul>
</section>
<section id="step-5.-interpret-the-results" class="level2">
<h2 class="anchored" data-anchor-id="step-5.-interpret-the-results">Step 5. Interpret the results</h2>
<p>The forest plot or timber plot is the main graphical output or representation from a meta-analysis.</p>
<p>Reading and understanding these plots will allow you to understand the findings from a meta-analysis. Meta-analyses of animal studies tend to include many studies with small sample sizes. Therefore, it is common to see preclinical meta-analyses graphically represented with a timber plot, a slight variation on the forest plot.</p>
<p>Here is an example of a timber plot. In this meta-analysis the research question was: What is the effect of antidepressants compared vehicle or no treatment on infarct volume in animal models of ischaemic stroke? <a href="https://doi.org/10.1161/STROKEAHA.114.006304" target="_blank">McCann et al., 2014</a></p>
<center>
<img src="figs/timberplot.png" class="class img-fluid" style="width:60.0%">
</center>
<p><strong>Outcome:</strong> A meta-analysis is conducted on a single outcome of interest at a time. The outcome of interest in this meta-analysis is Reduction in Infarct Volume, as displayed on the y-axis label.</p>
<p><strong>Individual Study Effects:</strong> In this meta-analysis there were 58 experiments included. Each black dot represents the effect size reported in a single experiment, the difference in outcome between the mean and the control group. Each black dot has thin black lines above and below the effect size, these represent the errors bars associated with the effect size reported. Individual study effect sizes are displayed in order of smallest to largest to highlight variation or heterogeneity in the literature.</p>
<p><strong>Pooled Effect:</strong> Here, the gray bar behind the black dots represents the combined or pooled effect size across all included experiments and its confidence intervals. In this example, the effect size is 27.3% (95% CI, 20.7%–33.8%).</p>
<p><strong>Clinical Forest Plots:</strong> A step-by-step guide to interpreting a forest plot from a typical clinical meta-analysis is available <a href="https://s4be.cochrane.org/blog/2016/07/11/tutorial-read-forest-plot/" target="_blank">here</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>